<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Introduction to snaplocs â€¢ snaplocs</title>
<!-- jquery --><script src="https://code.jquery.com/jquery-3.1.0.min.js" integrity="sha384-nrOSfDHtoPMzJHjVTdCopGqIqeYETSXhZDFyniQ8ZHcVy08QesyHcnOUpMpqnmWq" crossorigin="anonymous"></script><!-- Bootstrap --><link href="https://maxcdn.bootstrapcdn.com/bootswatch/3.3.7/sandstone/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous">
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script><!-- Font Awesome icons --><link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" integrity="sha384-T8Gy5hrqNKT+hzMclPo118YTQO6cYprQmhrYwIiQ/3axmI1hQomh7Ud2hPOy8SP1" crossorigin="anonymous">
<!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../jquery.sticky-kit.min.js"></script><script src="../pkgdown.js"></script><link href="../extra.css" rel="stylesheet">
<!-- mathjax --><script src="https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--><!-- Google analytics --><script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-46129458-3', 'auto');
  ga('send', 'pageview');

</script>
</head>
<body>
    <div class="container template-vignette">
      <header><div class="navbar navbar-inverse navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="../index.html">snaplocs</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../index.html">
    <span class="fa fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../articles/snaplocs.html">Get Started</a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li>
  <a href="../news/index.html">News</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    <span class="fa fa-globe fa-lg"></span>
     
    SNAPverse
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="https://leonawicz.github.io/sv.html">Home of the verse</a>
    </li>
    <li class="divider">
    <li class="dropdown-header">Sector packages</li>
    <li>
      <a href="https://leonawicz.github.io/snapverse">snapverse</a>
    </li>
    <li>
      <a href="https://leonawicz.github.io/snaplite">snaplite</a>
    </li>
    <li>
      <a href="https://leonawicz.github.io/snapdata">snapdata</a>
    </li>
    <li>
      <a href="https://leonawicz.github.io/snapwebs">snapwebs</a>
    </li>
    <li class="divider">
    <li class="dropdown-header">Functions packages</li>
    <li>
      <a href="https://leonawicz.github.io/snapstat">snapstat</a>
    </li>
    <li>
      <a href="https://leonawicz.github.io/snapplot">snapplot</a>
    </li>
    <li>
      <a href="https://leonawicz.github.io/snaplocs">snaplocs</a>
    </li>
    <li>
      <a href="https://leonawicz.github.io/snapprep">snapprep</a>
    </li>
    <li>
      <a href="https://leonawicz.github.io/alfresco">alfresco</a>
    </li>
    <li class="divider">
    <li class="dropdown-header">Data packages</li>
    <li>
      <a href="https://leonawicz.github.io/snapclim">snapclim</a>
    </li>
    <li>
      <a href="https://leonawicz.github.io/snapfire">snapfire</a>
    </li>
    <li>
      <a href="https://leonawicz.github.io/snappoly">snappoly</a>
    </li>
    <li>
      <a href="https://leonawicz.github.io/snapgrid">snapmaps</a>
    </li>
    <li>
      <a href="https://leonawicz.github.io/snapdist">snapdist</a>
    </li>
    <li class="divider">
    <li class="dropdown-header">Apps &amp; docs packages</li>
    <li>
      <a href="https://leonawicz.github.io/snapapps">snapapps</a>
    </li>
    <li>
      <a href="https://leonawicz.github.io/snapdash">snapdash</a>
    </li>
    <li>
      <a href="https://leonawicz.github.io/snapflex">snapflex</a>
    </li>
    <li>
      <a href="https://leonawicz.github.io/snapdocs">snapdocs</a>
    </li>
    <li class="divider">
    <li class="dropdown-header">Satellite packages</li>
    <li>
      <a href="https://leonawicz.github.io/rvtable">rvtable</a>
    </li>
    <li>
      <a href="https://leonawicz.github.io/apputils">apputils</a>
    </li>
    <li>
      <a href="https://leonawicz.github.io/maputils">maputils</a>
    </li>
    <li>
      <a href="https://leonawicz.github.io/snaputils">snaputils</a>
    </li>
    <li>
      <a href="https://leonawicz.github.io/snapmeta">snapmeta</a>
    </li>
    <li>
      <a href="https://leonawicz.github.io/snapsite">snapsite</a>
    </li>
  </ul>
</li>
<li>
  <a href="https://github.com/leonawicz/snaplocs">
    <span class="fa fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      
      </header><div class="row">
  <div class="col-md-9">
    <div class="page-header toc-ignore">
      <h1>Introduction to snaplocs</h1>
            
          </div>

    
    
<div class="contents">
<p><code>snaplocs</code> is as package in the functional sector of the SNAPverse. Like most packages, it contains some form of data. However, it is not a data sector package. Data packages are those that contain a large enough amount of data to warrant a standalone package so that functional packages remain small. This is not one of those packages. Unlike <code>snappoly</code> and <code>snapgrid</code> it does not contain any maps. <code>snaplocs</code> contains point location data in a single data frame. There are 3,914 locations in all, spread across Alaska and western Canada. Compared to SNAPverse data packages, this is quite small.</p>
<p>While <code>snaplocs</code> is nevertheless still typically treated as a data package for basic access to the <code>locs</code> data set, the package does provide a collection of functions for working with the data. This vignette provides example usage of several functions.</p>
<div id="point-location-data" class="section level2">
<h2 class="hasAnchor">
<a href="#point-location-data" class="anchor"></a>Point location data</h2>
<p>Print a summary of the data.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">library</span>(snaplocs)
locs
<span class="co">#&gt; # A tibble: 3,914 x 4</span>
<span class="co">#&gt;    Location      Group    lon   lat</span>
<span class="co">#&gt;    &lt;chr&gt;         &lt;fctr&gt; &lt;dbl&gt; &lt;dbl&gt;</span>
<span class="co">#&gt;  1 Adak Station  Alaska  -177  51.9</span>
<span class="co">#&gt;  2 Afognak       Alaska  -153  58.0</span>
<span class="co">#&gt;  3 Akhiok        Alaska  -154  56.9</span>
<span class="co">#&gt;  4 Akiachak      Alaska  -161  60.9</span>
<span class="co">#&gt;  5 Akiak         Alaska  -161  60.9</span>
<span class="co">#&gt;  6 Akutan        Alaska  -166  54.1</span>
<span class="co">#&gt;  7 Alakanuk      Alaska  -165  62.7</span>
<span class="co">#&gt;  8 Alatna        Alaska  -153  66.6</span>
<span class="co">#&gt;  9 Aleknagik     Alaska  -159  59.3</span>
<span class="co">#&gt; 10 Aleut Village Alaska  -153  58.0</span>
<span class="co">#&gt; # ... with 3,904 more rows</span></code></pre></div>
</div>
<div id="metadata-helpers" class="section level2">
<h2 class="hasAnchor">
<a href="#metadata-helpers" class="anchor"></a>Metadata helpers</h2>
<p>There are some basic helper functions that grab metadata associated with point locations of interest.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">x &lt;-<span class="st"> "Fairbanks"</span>
<span class="kw"><a href="../reference/metadata.html">get_state</a></span>(x)
<span class="co">#&gt; [1] "Alaska"</span>
<span class="kw"><a href="../reference/metadata.html">get_country</a></span>(x)
<span class="co">#&gt; [1] "United States"</span>
<span class="kw"><a href="../reference/metadata.html">get_coords</a></span>(x)
<span class="co">#&gt; # A tibble: 1 x 2</span>
<span class="co">#&gt;     lon   lat</span>
<span class="co">#&gt;   &lt;dbl&gt; &lt;dbl&gt;</span>
<span class="co">#&gt; 1  -148  64.8</span></code></pre></div>
<p>These calls also take vectors and <code>get_coords</code> with <code>keep_cols = TRUE</code> retains all columns of <code>locs</code>.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">x &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="st">"Fairbanks"</span>, <span class="st">"Calgary"</span>)
<span class="kw"><a href="../reference/metadata.html">get_state</a></span>(x)
<span class="co">#&gt; [1] "Alaska"  "Alberta"</span>
<span class="kw"><a href="../reference/metadata.html">get_country</a></span>(x)
<span class="co">#&gt; [1] "United States" "Canada"</span>
<span class="kw"><a href="../reference/metadata.html">get_coords</a></span>(x)
<span class="co">#&gt; # A tibble: 2 x 2</span>
<span class="co">#&gt;     lon   lat</span>
<span class="co">#&gt;   &lt;dbl&gt; &lt;dbl&gt;</span>
<span class="co">#&gt; 1  -148  64.8</span>
<span class="co">#&gt; 2  -114  51.0</span>
<span class="kw"><a href="../reference/metadata.html">get_coords</a></span>(x, <span class="dt">keep_cols =</span> <span class="ot">TRUE</span>)
<span class="co">#&gt; # A tibble: 2 x 4</span>
<span class="co">#&gt;   Location  Group     lon   lat</span>
<span class="co">#&gt;   &lt;chr&gt;     &lt;fctr&gt;  &lt;dbl&gt; &lt;dbl&gt;</span>
<span class="co">#&gt; 1 Fairbanks Alaska   -148  64.8</span>
<span class="co">#&gt; 2 Calgary   Alberta  -114  51.0</span></code></pre></div>
<p>Typically a user is interested in all communities, or all those in a particular province. Less commonly, a user may have a specific location name and query the table as demonstrated above. Not only must the name be exact, but the results returned may not be unique. These helper functions that take specific locations as input are only intended to provide rough convenience. For example, Galena is not unique.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">x &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="st">"Galena"</span>)
<span class="kw"><a href="../reference/metadata.html">get_state</a></span>(x)
<span class="co">#&gt; [1] "Alaska"           "British Columbia"</span>
<span class="kw"><a href="../reference/metadata.html">get_country</a></span>(x)
<span class="co">#&gt; [1] "United States" "Canada"</span>
<span class="kw"><a href="../reference/metadata.html">get_coords</a></span>(x)
<span class="co">#&gt; # A tibble: 2 x 2</span>
<span class="co">#&gt;     lon   lat</span>
<span class="co">#&gt;   &lt;dbl&gt; &lt;dbl&gt;</span>
<span class="co">#&gt; 1  -157  64.7</span>
<span class="co">#&gt; 2  -118  50.6</span>
<span class="kw"><a href="../reference/metadata.html">get_coords</a></span>(x, <span class="dt">keep_cols =</span> <span class="ot">TRUE</span>)
<span class="co">#&gt; # A tibble: 2 x 4</span>
<span class="co">#&gt;   Location Group              lon   lat</span>
<span class="co">#&gt;   &lt;chr&gt;    &lt;fctr&gt;           &lt;dbl&gt; &lt;dbl&gt;</span>
<span class="co">#&gt; 1 Galena   Alaska            -157  64.7</span>
<span class="co">#&gt; 2 Galena   British Columbia  -118  50.6</span></code></pre></div>
<p>An additional <code>group</code> argument can be passed to any of these functions to protect against this possibility. <code>group</code> may be a vector.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">grp &lt;-<span class="st"> "Alaska"</span>
<span class="kw"><a href="../reference/metadata.html">get_state</a></span>(x, <span class="dt">group =</span> grp)
<span class="co">#&gt; [1] "Alaska"</span>
<span class="kw"><a href="../reference/metadata.html">get_country</a></span>(x, grp)
<span class="co">#&gt; [1] "United States"</span>
<span class="kw"><a href="../reference/metadata.html">get_coords</a></span>(x, grp)
<span class="co">#&gt; # A tibble: 1 x 2</span>
<span class="co">#&gt;     lon   lat</span>
<span class="co">#&gt;   &lt;dbl&gt; &lt;dbl&gt;</span>
<span class="co">#&gt; 1  -157  64.7</span>
<span class="kw"><a href="../reference/metadata.html">get_coords</a></span>(x, grp, <span class="dt">keep_cols =</span> <span class="ot">TRUE</span>)
<span class="co">#&gt; # A tibble: 1 x 4</span>
<span class="co">#&gt;   Location Group    lon   lat</span>
<span class="co">#&gt;   &lt;chr&gt;    &lt;fctr&gt; &lt;dbl&gt; &lt;dbl&gt;</span>
<span class="co">#&gt; 1 Galena   Alaska  -157  64.7</span></code></pre></div>
</div>
<div id="spatial-reprojection" class="section level2">
<h2 class="hasAnchor">
<a href="#spatial-reprojection" class="anchor"></a>Spatial reprojection</h2>
<p>Alaska- and western Canada-centric projects at SNAP often use data in a NAD83 Alaska Albers equal area conic projection. To quickly convert a 2-column matrix or data frame of WGS84 lon/lat coordinates to a 2-column matrix in this projection, do the following:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw"><a href="../reference/wgs2ak.html">wgs2ak</a></span>(<span class="kw"><a href="../reference/metadata.html">get_coords</a></span>(x))
<span class="co">#&gt;              x         y</span>
<span class="co">#&gt; [1,] -139348.5 1644384.4</span>
<span class="co">#&gt; [2,] 2451503.6  751897.5</span>
<span class="kw">head</span>(<span class="kw"><a href="../reference/wgs2ak.html">wgs2ak</a></span>(locs[<span class="dv">3</span><span class="op">:</span><span class="dv">4</span>]))
<span class="co">#&gt;                x         y</span>
<span class="co">#&gt; [1,] -1537921.57  472626.5</span>
<span class="co">#&gt; [2,]    72613.04  890268.7</span>
<span class="co">#&gt; [3,]   -10323.86  770992.1</span>
<span class="co">#&gt; [4,]  -400865.13 1236452.4</span>
<span class="co">#&gt; [5,]  -389171.90 1235473.0</span>
<span class="co">#&gt; [6,]  -766686.42  526437.1</span></code></pre></div>
<p>More functions will be added in the next package revision.</p>
</div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
        <div id="tocnav">
      <h2 class="hasAnchor">
<a href="#tocnav" class="anchor"></a>Contents</h2>
      <ul class="nav nav-pills nav-stacked">
<li><a href="#point-location-data">Point location data</a></li>
      <li><a href="#metadata-helpers">Metadata helpers</a></li>
      <li><a href="#spatial-reprojection">Spatial reprojection</a></li>
      </ul>
</div>
      </div>

</div>


      <footer><div class="copyright">
  <p>Developed by <a href="http://leonawicz.github.io/">Matthew Leonawicz</a>, <a href="http://snap.uaf.edu/"><img src="https://raw.githubusercontent.com/leonawicz/leonawicz.github.io/master/assets/img/snap_symbol.svg?sanitize=true" height="24">  Scenarios Network for Alaska and Arctic Planning</a>.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="http://hadley.github.io/pkgdown/">pkgdown</a>.</p>
</div>

      </footer>
</div>

  </body>
</html>
